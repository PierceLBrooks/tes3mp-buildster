<?xml version="1.0" encoding="UTF-8"?>
<buildster directory="build" distribution="../Distribution">
  <project directory="../Project" sudo="false">
    <dependencies>
      <if_check id="BUILDSTER_OS" check="Windows">
        <dependency>
          <label>qt</label>
          <subpath>build</subpath>
          <remote>
            <url>https://github.com/martinrotter/qt-minimalistic-builds/releases/download/5.15.3/qt-5.15.3-dynamic-msvc2019-x86_64.7z</url>
            <wget>qt-5.15.3-dynamic-msvc2019-x86_64.7z</wget>
          </remote>
          <build>
            <arguments></arguments>
            <shells>
              <shell>
                <work><origin></origin></work>
                <commands>
                  <command><extract><origin></origin>/qt-5.15.3-dynamic-msvc2019-x86_64.7z</extract></command>
                  <command>
                    <if_exists>
                      <exists><distribution></distribution>/../../plugins</exists>
                      <else>
                        <copy>
                          <from><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/plugins</from>
                          <to><distribution></distribution>/../../plugins</to>
                        </copy>
                      </else>
                    </if_exists>
                  </command>
                </commands>
              </shell>
            </shells>
          </build>
          <exports>
            <export type="all">
              <key>QT_ROOT</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/lib/cmake</value>
            </export>
            <export type="all">
              <key>Qt5_DIR</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/lib/cmake/Qt5</value>
            </export>
            <export type="libraries">
              <key>QT_LIBRARY_PATH</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/bin</value>
            </export>
            <export type="headers">
              <key>QT_INCLUDE_PATH</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/include</value>
            </export>
            <export type="headers">
              <key>QT_CORE_INCLUDE_PATH</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/include/QtCore</value>
            </export>
            <export type="headers">
              <key>QT_GUI_INCLUDE_PATH</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/include/QtGui</value>
            </export>
            <export type="headers">
              <key>QT_WIDGETS_INCLUDE_PATH</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/include/QtWidgets</value>
            </export>
            <export type="headers">
              <key>QT_NETWORK_INCLUDE_PATH</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/include/QtNetwork</value>
            </export>
            <export type="headers">
              <key>QT_XML_INCLUDE_PATH</key>
              <value><origin></origin>/qt-5/qt-5.15.3-dynamic-msvc2019-x86_64/include/QtXml</value>
            </export>
          </exports>
          <imports></imports>
        </dependency>
        <dependency>
          <label>boost</label>
          <subpath>build</subpath>
          <local>
            <path><data id="BUILDSTER_WD"></data>/../boost</path>
          </local>
          <build>
            <arguments></arguments>
            <shells>
              <shell>
                <work><data id="BUILDSTER_WD"></data>/../boost/tools/build</work>
                <commands>
                  <command>
                    <switch id="BUILDSTER_OS">
                      <case check="Windows">bootstrap.bat</case>
                      <default><quit></quit></default>
                    </switch>
                  </command>
                  <command>
                    <switch id="BUILDSTER_OS">
                      <case check="Windows">b2.exe --prefix=<install></install>/install install</case>
                      <default><quit></quit></default>
                    </switch>
                  </command>
                </commands>
              </shell>
              <shell>
                <work><data id="BUILDSTER_WD"></data>/../boost</work>
                <commands>
                  <command>
                    <switch id="BUILDSTER_OS">
                      <case check="Windows"><install></install>/install/bin/b2.exe --with-filesystem --with-iostreams --with-locale --build-dir=<install></install>/build --prefix=<install></install>/final toolset=gcc --build-type=minimal install</case>
                      <default><quit></quit></default>
                    </switch>
                  </command>
                </commands>
              </shell>
            </shells>
          </build>
          <exports>
            <export type="headers">
              <key>BOOST_INCLUDE_PATH</key>
              <value><install></install>/final/include/boost-1_75</value>
            </export>
            <export type="libraries">
              <key>BOOST_LIBRARIES</key>
              <value><install></install>/final/lib</value>
            </export>
          </exports>
          <imports></imports>
        </dependency>
      </if_check>
      <dependency>
        <label>crabnet</label>
        <subpath>build</subpath>
        <remote>
          <url>https://github.com/PierceLBrooks/CrabNet.git</url>
          <git_repo>
            <branch>master</branch>
            <credentials>
              <username>username</username>
              <password>password</password>
            </credentials>
          </git_repo>
        </remote>
        <build>
          <arguments></arguments>
          <cmake>
            <generator>
              <switch id="BUILDSTER_OS">
                <case check="Windows">MinGW Makefiles</case>
                <case check="Linux">Unix Makefiles</case>
                <case check="Darwin">Xcode</case>
                <default><quit></quit></default>
              </switch>
            </generator>
            <source>..</source>
          </cmake>
        </build>
        <exports>
          <export type="headers">
            <key>CRABNET_INCLUDE_PATH</key>
            <value><install></install>/include</value>
          </export>
          <export type="libraries">
            <key>CRABNET_LIBRARIES</key>
            <value><install></install>/lib</value>
          </export>
          <export type="all">
            <key>CRABNET_ROOT</key>
            <value><install></install></value>
          </export>
          <export type="all">
            <key>RAKNET_ROOT</key>
            <value><install></install></value>
          </export>
        </exports>
        <imports></imports>
      </dependency>
      <dependency>
        <label>osg</label>
        <subpath>build</subpath>
        <remote>
          <url>https://github.com/PierceLBrooks/osg.git</url>
          <git_repo>
            <branch>master</branch>
            <credentials>
              <username>username</username>
              <password>password</password>
            </credentials>
          </git_repo>
        </remote>
        <build>
          <arguments>
            <if_check id="BUILDSTER_OS" check="Darwin">
              <argument>-DCMAKE_PREFIX_PATH=<data id="BUILDSTER_QT"></data>;<data id="BUILDSTER_FREETYPE"></data></argument>
              <argument>-DCMAKE_FIND_FRAMEWORK=LAST</argument>
            </if_check>
            <argument>-DBUILD_OSG_APPLICATIONS=OFF</argument>
            <argument>-DBUILD_OSG_DEPRECATED_SERIALIZERS=OFF</argument>
            <argument>-DOSG_FIND_3RD_PARTY_DEPS=OFF</argument>
            <argument>-DBUILD_OSG_PLUGINS_BY_DEFAULT=OFF</argument>
            <argument>-DBUILD_OSG_PLUGIN_BMP=ON</argument>
            <argument>-DBUILD_OSG_PLUGIN_DDS=ON</argument>
            <argument>-DBUILD_OSG_PLUGIN_FREETYPE=ON</argument>
            <argument>-DBUILD_OSG_PLUGIN_JPEG=ON</argument>
            <argument>-DBUILD_OSG_PLUGIN_OSG=ON</argument>
            <argument>-DBUILD_OSG_PLUGIN_PNG=ON</argument>
            <argument>-DBUILD_OSG_PLUGIN_TGA=ON</argument>
            <argument>-DBUILD_OSG_PLUGIN_KTX=ON</argument>
            <argument>-DOSG_USE_FLOAT_MATRIX=ON</argument>
            <argument>-DOSG_USE_FLOAT_PLANE=ON</argument>
            <argument>-DOSG_USE_FLOAT_QUAT=ON</argument>
            <argument>-DOPENGL_PROFILE=GL2</argument>
          </arguments>
          <cmake>
            <generator>
              <switch id="BUILDSTER_OS">
                <case check="Windows">MinGW Makefiles</case>
                <case check="Linux">Unix Makefiles</case>
                <case check="Darwin">Xcode</case>
                <default><quit></quit></default>
              </switch>
            </generator>
            <source>..</source>
          </cmake>
        </build>
        <exports>
          <export type="headers">
            <key>OSG_INCLUDE_PATH</key>
            <value><install></install>/include</value>
          </export>
          <export type="libraries">
            <key>OSG_LIBRARIES</key>
            <value><install></install>/lib</value>
          </export>
          <export type="all">
            <key>OSG_ROOT</key>
            <value><install></install></value>
          </export>
          <export type="all">
            <key>OpenSceneGraph_ROOT</key>
            <value><install></install></value>
          </export>
        </exports>
        <imports></imports>
      </dependency>
    </dependencies>
    <targets>
      <target type="executable">
        <label>TES3MP</label>
        <generator>
          <switch id="BUILDSTER_OS">
            <case check="Windows">CodeBlocks - MinGW Makefiles</case>
            <case check="Linux">CodeBlocks - Unix Makefiles</case>
            <case check="Darwin">Xcode</case>
            <default><quit></quit></default>
          </switch>
        </generator>
        <definitions></definitions>
        <arguments>
          <if_check id="BUILDSTER_OS" check="Darwin">
            <argument>-DCMAKE_PREFIX_PATH=<data id="BUILDSTER_QT"></data>;<data id="BUILDSTER_FREETYPE"></data></argument>
            <argument>-DCMAKE_FIND_FRAMEWORK=LAST</argument>
            <argument>-DCMAKE_POLICY_DEFAULT_CMP0074=NEW</argument>
          </if_check>
          <argument>-DOPENMW_USE_SYSTEM_OSG=ON</argument>
          <argument>-DOPENMW_USE_SYSTEM_MYGUI=OFF</argument>
          <argument>-DOPENMW_USE_SYSTEM_BULLET=OFF</argument>
          <argument>-DOPENMW_USE_SYSTEM_TINYXML=OFF</argument>
          <argument>-DBUILD_BSATOOL=0</argument>
          <argument>-DBUILD_NIFTEST=0</argument>
          <argument>-DBUILD_ESMTOOL=0</argument>
          <argument>-DBUILD_LAUNCHER=0</argument>
          <argument>-DBUILD_MWINIIMPORTER=0</argument>
          <argument>-DBUILD_ESSIMPORTER=0</argument>
          <argument>-DBUILD_OPENCS=0</argument>
          <argument>-DBUILD_WIZARD=0</argument>
          <argument>-DBUILD_UNITTESTS=0</argument>
          <argument>-DBUILD_BENCHMARKS=0</argument>
        </arguments>
        <links>
          <if_check id="BUILDSTER_OS" check="Windows">
            <link>setupapi</link>
            <link>iphlpapi</link>
            <link>psapi</link>
            <link>userenv</link>
            <link>gdi32</link>
            <link>crypt32</link>
            <link>ws2_32</link>
            <link>iconv</link>
          </if_check>
        </links>
        <imports>
          <if_check id="BUILDSTER_OS" check="Windows">
            <import>qt</import>
            <import>boost</import>
          </if_check>
          <import>crabnet</import>
          <import>osg</import>
        </imports>
      </target>
    </targets>
  </project>
</buildster>
